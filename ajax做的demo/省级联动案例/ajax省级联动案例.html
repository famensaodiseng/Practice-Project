<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<script src = "./jquery.js"></script>
	<script>
	 $(function(){
        // 公用方法
        function queryData(obj,callback){
            $.ajax({
                type:'get',
                url:'http://study.com/0718/select.php',
                data:obj,
                dataType:'json',
                success:function(data){
                    callback(data);
                }
            });
        }
        // 加载省级数据
        queryData({
            flag:1
        },function(data){
            var option = '';
            $.each(data,function(i,e){
                option += '<option value="'+e.id+'">'+e.province+'</option>';
            });
            $("#province").append(option);
        });

        $('#province').change(function(){
            // $("#city").find('option:gt(0)').remove();
            $("#city option:gt(0)").remove();
            queryData({
                flag:2,
                pId:$(this).val()
            },function(data){
                var option = '';
                $.each(data,function(i,e){
                    option += '<option value="'+e.id+'">'+e.city+'</option>';
                });
                $("#city").append(option);
            });
        });

        $('#city').change(function(){
            // $("#city").find('option:gt(0)').remove();
            $("#county option:gt(0)").remove();
            queryData({
                flag:3,
                cId:$(this).val()
            },function(data){
                var option = '';
                $.each(data,function(i,e){
                    option += '<option value="'+e.id+'">'+e.county+'</option>';
                });
                $("#county").append(option);
            });
        });

    });


	</script>
	<style>
	#container {
		width: 500px;
		min-height: 300px;
		background-color: lightgreen;
		margin:auto;
		text-align: center;
		padding: 10px;
	}
	</style>
</head>
<body>
	<div id="container">
		<label for="">
			省份：<select name="" id="province">
				<option value="">请选择省...</option>
			</select>
		</label>
		<label for="">
			市：<select name="" id="city">
				<option value="">请选择市...</option>
			</select>
		</label>
		<label for="">
			县：<select name="" id="county">
				<option value="">请选择县...</option>
			</select>
		</label>
	</div>
</body>
</html>